<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>format block of code with jquery</title>
<script src="../js/jquery-1.9.1.js"></script>
<script src="../js/jFormat.js"></script>
</head>
<body>
  <h1>Format block of code with jquery similar to backbone render</h1>
<script id="testme" type="text/template">
<h2>simple model</h2>
<p>
  <strong>'title': </strong>@model.title
</p>
<p>
  <strong>name: </strong>@model.name
</p>
<p>
  <strong>age: </strong>@raw(model.age)
</p>
<p>
  <strong>not defined property: @model.notdefined</strong>
</p>
<p>
  <u>Render time for 100 time:</u><strong id='jFormat100'></strong>
</p>
</script>
<script id="multiPartial" type="text/template">
<div>
  @partial("#testme",model)
</div>
<div>
  <h2>Array model</h2>
    <table>
      <tr>
        <th>Order</th>
        <th>Name</th>
        <th>Score</th>
        <th>DOB</th>
      </tr>
      @foreach(var record in model.records){
        <tr>
          <td>@record.order</td>
          <td>@record.name</td>
          <td>@record.score</td>
          <td>@record.dob</td>
        <tr>
      }
  </table>
</div>
<div>
  @partial("#testme",model)
</div>
<div>
  <h2>Array model</h2>
    <table>
      <tr>
        <th>Order</th>
        <th>Name</th>
        <th>Score</th>
        <th>DOB</th>
      </tr>
      @foreach(var record in model.records){
        <tr>
          <td>@record.order</td>
          <td>@record.name</td>
          <td>@record.score</td>
          <td>@record.dob</td>
        <tr>
      }
  </table>
</div>
</script>
<div id="wrapperTestMe"></div>


<script>
var records = [];
var startDate = new Date(1970,01,01);
var endDate = new Date();
var diff = endDate - startDate;
for(var i=0;i<10;i++){
    var name = Math.random().toString(36).substring(2);
    var score = Math.floor(Math.random()*1001);
    var dob = new Date(startDate.setTime(Math.random()*diff));
    records.push({order:i+1,name:name,score:score,dob:dob});
}
       var model = {
           "title": "test <title>",
           "name": "test 'name'",
           "age": "<i>unescapeme</i>",
           "records": records
       }
       $("#wrapperTestMe").jFormat("#multiPartial",model);
</script>

</body>
</html>